function [ T7 ] = forward_kin_iiwa2( q )

    o1=q(1);
    o2=q(2);
    o3=q(3);
    o4=q(4);
    o5=q(5);
    o6=q(6);
    o7=q(7);
    
T7=[   sin(o7)*(sin(o5)*(cos(o4)*(sin(o1)*sin(o3) - cos(o1)*cos(o2)*cos(o3)) + cos(o1)*sin(o2)*sin(o4)) - cos(o5)*(cos(o3)*sin(o1) + cos(o1)*cos(o2)*sin(o3))) + cos(o7)*(sin(o6)*(sin(o4)*(sin(o1)*sin(o3) - cos(o1)*cos(o2)*cos(o3)) - cos(o1)*cos(o4)*sin(o2)) - cos(o6)*(cos(o5)*(cos(o4)*(sin(o1)*sin(o3) - cos(o1)*cos(o2)*cos(o3)) + cos(o1)*sin(o2)*sin(o4)) + sin(o5)*(cos(o3)*sin(o1) + cos(o1)*cos(o2)*sin(o3)))), cos(o7)*(sin(o5)*(cos(o4)*(sin(o1)*sin(o3) - cos(o1)*cos(o2)*cos(o3)) + cos(o1)*sin(o2)*sin(o4)) - cos(o5)*(cos(o3)*sin(o1) + cos(o1)*cos(o2)*sin(o3))) - sin(o7)*(sin(o6)*(sin(o4)*(sin(o1)*sin(o3) - cos(o1)*cos(o2)*cos(o3)) - cos(o1)*cos(o4)*sin(o2)) - cos(o6)*(cos(o5)*(cos(o4)*(sin(o1)*sin(o3) - cos(o1)*cos(o2)*cos(o3)) + cos(o1)*sin(o2)*sin(o4)) + sin(o5)*(cos(o3)*sin(o1) + cos(o1)*cos(o2)*sin(o3)))),   cos(o6)*(sin(o4)*(sin(o1)*sin(o3) - cos(o1)*cos(o2)*cos(o3)) - cos(o1)*cos(o4)*sin(o2)) + sin(o6)*(cos(o5)*(cos(o4)*(sin(o1)*sin(o3) - cos(o1)*cos(o2)*cos(o3)) + cos(o1)*sin(o2)*sin(o4)) + sin(o5)*(cos(o3)*sin(o1) + cos(o1)*cos(o2)*sin(o3))),   130*cos(o6)*(sin(o4)*(sin(o1)*sin(o3) - cos(o1)*cos(o2)*cos(o3)) - cos(o1)*cos(o4)*sin(o2)) - 420*cos(o1)*sin(o2) + 130*sin(o6)*(cos(o5)*(cos(o4)*(sin(o1)*sin(o3) - cos(o1)*cos(o2)*cos(o3)) + cos(o1)*sin(o2)*sin(o4)) + sin(o5)*(cos(o3)*sin(o1) + cos(o1)*cos(o2)*sin(o3))) + 400*sin(o4)*(sin(o1)*sin(o3) - cos(o1)*cos(o2)*cos(o3)) - 400*cos(o1)*cos(o4)*sin(o2);...
    - cos(o7)*(sin(o6)*(sin(o4)*(cos(o1)*sin(o3) + cos(o2)*cos(o3)*sin(o1)) + cos(o4)*sin(o1)*sin(o2)) - cos(o6)*(cos(o5)*(cos(o4)*(cos(o1)*sin(o3) + cos(o2)*cos(o3)*sin(o1)) - sin(o1)*sin(o2)*sin(o4)) + sin(o5)*(cos(o1)*cos(o3) - cos(o2)*sin(o1)*sin(o3)))) - sin(o7)*(sin(o5)*(cos(o4)*(cos(o1)*sin(o3) + cos(o2)*cos(o3)*sin(o1)) - sin(o1)*sin(o2)*sin(o4)) - cos(o5)*(cos(o1)*cos(o3) - cos(o2)*sin(o1)*sin(o3))), sin(o7)*(sin(o6)*(sin(o4)*(cos(o1)*sin(o3) + cos(o2)*cos(o3)*sin(o1)) + cos(o4)*sin(o1)*sin(o2)) - cos(o6)*(cos(o5)*(cos(o4)*(cos(o1)*sin(o3) + cos(o2)*cos(o3)*sin(o1)) - sin(o1)*sin(o2)*sin(o4)) + sin(o5)*(cos(o1)*cos(o3) - cos(o2)*sin(o1)*sin(o3)))) - cos(o7)*(sin(o5)*(cos(o4)*(cos(o1)*sin(o3) + cos(o2)*cos(o3)*sin(o1)) - sin(o1)*sin(o2)*sin(o4)) - cos(o5)*(cos(o1)*cos(o3) - cos(o2)*sin(o1)*sin(o3))), - cos(o6)*(sin(o4)*(cos(o1)*sin(o3) + cos(o2)*cos(o3)*sin(o1)) + cos(o4)*sin(o1)*sin(o2)) - sin(o6)*(cos(o5)*(cos(o4)*(cos(o1)*sin(o3) + cos(o2)*cos(o3)*sin(o1)) - sin(o1)*sin(o2)*sin(o4)) + sin(o5)*(cos(o1)*cos(o3) - cos(o2)*sin(o1)*sin(o3))), - 420*sin(o1)*sin(o2) - 130*cos(o6)*(sin(o4)*(cos(o1)*sin(o3) + cos(o2)*cos(o3)*sin(o1)) + cos(o4)*sin(o1)*sin(o2)) - 130*sin(o6)*(cos(o5)*(cos(o4)*(cos(o1)*sin(o3) + cos(o2)*cos(o3)*sin(o1)) - sin(o1)*sin(o2)*sin(o4)) + sin(o5)*(cos(o1)*cos(o3) - cos(o2)*sin(o1)*sin(o3))) - 400*sin(o4)*(cos(o1)*sin(o3) + cos(o2)*cos(o3)*sin(o1)) - 400*cos(o4)*sin(o1)*sin(o2);...
    cos(o7)*(cos(o6)*(cos(o5)*(cos(o2)*sin(o4) + cos(o3)*cos(o4)*sin(o2)) - sin(o2)*sin(o3)*sin(o5)) + sin(o6)*(cos(o2)*cos(o4) - cos(o3)*sin(o2)*sin(o4))) - sin(o7)*(sin(o5)*(cos(o2)*sin(o4) + cos(o3)*cos(o4)*sin(o2)) + cos(o5)*sin(o2)*sin(o3)),                                                                                                                                                                   - cos(o7)*(sin(o5)*(cos(o2)*sin(o4) + cos(o3)*cos(o4)*sin(o2)) + cos(o5)*sin(o2)*sin(o3)) - sin(o7)*(cos(o6)*(cos(o5)*(cos(o2)*sin(o4) + cos(o3)*cos(o4)*sin(o2)) - sin(o2)*sin(o3)*sin(o5)) + sin(o6)*(cos(o2)*cos(o4) - cos(o3)*sin(o2)*sin(o4))),                                                                                                       cos(o6)*(cos(o2)*cos(o4) - cos(o3)*sin(o2)*sin(o4)) - sin(o6)*(cos(o5)*(cos(o2)*sin(o4) + cos(o3)*cos(o4)*sin(o2)) - sin(o2)*sin(o3)*sin(o5)),                                                                                                                                             420*cos(o2) + 400*cos(o2)*cos(o4) - 130*sin(o6)*(cos(o5)*(cos(o2)*sin(o4) + cos(o3)*cos(o4)*sin(o2)) - sin(o2)*sin(o3)*sin(o5)) + 130*cos(o6)*(cos(o2)*cos(o4) - cos(o3)*sin(o2)*sin(o4)) - 400*cos(o3)*sin(o2)*sin(o4) + 360;...
    0,                                                                                                                                                                                                                                                                                                                                                                                                                     0,                                                                                                                                                                                                                                                   0,                                                                                                                                                                                                                                                                                                                                                                         1];
 

end

